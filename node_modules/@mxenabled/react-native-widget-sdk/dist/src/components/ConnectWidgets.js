import { dispatchConnectLocationChangeEvent, } from "@mxenabled/widget-post-message-definitions";
import { Type } from "../sso";
import { makeDefaultConnectOnOAuthRequested } from "./oauth";
import { makeWidgetComponentWithDefaults } from "./make_component";
import { useOAuthDeeplink } from "./oauth";
import { useWidgetRendererWithRef } from "./renderer";
export const ConnectVerificationWidget = makeWidgetComponentWithDefaults(ConnectWidget, {
    mode: "verification",
    includeTransactions: false,
});
export function ConnectWidget(props) {
    props = {
        onOAuthRequested: makeDefaultConnectOnOAuthRequested(props),
        ...props,
    };
    const [ref, elem] = useWidgetRendererWithRef({ ...props, widgetType: Type.ConnectWidget }, dispatchConnectLocationChangeEvent);
    useOAuthDeeplink(ref, props);
    return elem;
}
